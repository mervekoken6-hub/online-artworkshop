<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Admin Panel â€¢ Online Art Workshop</title>
<style>
body{
  margin:0;
  font-family:system-ui;
  background:#0b1220;
  color:#fff;
  padding:30px;
}
button{
  padding:10px 16px;
  border-radius:10px;
  border:none;
  cursor:pointer;
  background:#6366f1;
  color:#fff;
  font-weight:600;
  margin-right:8px;
}
input{
  padding:10px;
  border-radius:8px;
  border:none;
  width:420px;
}
table{
  width:100%;
  border-collapse:collapse;
  margin-top:20px;
}
th,td{
  padding:8px;
  border-bottom:1px solid #333;
  font-size:14px;
}
</style>
</head>

<body>

<h1>ðŸ§™ Admin Panel â€¢ Online Art Workshop</h1>

<div>
  <input id="apiUrl" placeholder="Apps Script API URL">
  <button onclick="saveApi()">Kaydet</button>
</div>

<br>

<div>
  <button onclick="loadData('cadi')">CadÄ± AtÃ¶lyesi KayÄ±tlarÄ±</button>
  <button onclick="loadData('canli')">CanlÄ± Ders KayÄ±tlarÄ±</button>
</div>

<table>
  <thead>
    <tr>
      <th>KayÄ±t Tarihi</th>
      <th>Ad Soyad</th>
      <th>E-posta</th>
      <th>Telefon</th>
      <th>Tarih</th>
      <th>Seans</th>
      <th>Ãœcret</th>
      <th>Not</th>
      <th>Dil</th>
      <th>Durum</th>
    </tr>
  </thead>
  <tbody id="rows"></tbody>
</table>

<script>
const LS_API = "admin_api";

function saveApi(){
  localStorage.setItem(LS_API, apiUrl.value);
  alert("API kaydedildi");
}

async function loadData(type){
  const url = localStorage.getItem(LS_API);
  if(!url){ alert("API gir"); return; }

  const res = await fetch(url + "?type=" + type);
  const json = await res.json();

  const body = document.getElementById("rows");
  body.innerHTML = "";

  json.rows.forEach(r=>{
    const tr = document.createElement("tr");
    r.forEach(c=>{
      const td = document.createElement("td");
      td.textContent = c;
      tr.appendChild(td);
    });
    body.appendChild(tr);
  });
}

apiUrl.value = localStorage.getItem(LS_API) || "";
</script>

</body>
</html>

