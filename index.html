<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Online Art Workshop | KayÄ±t</title>

  <style>
    :root{
      --bg1:#0b1220;
      --bg2:#05060a;
      --card: rgba(12, 18, 32, 0.92);
      --muted: rgba(255,255,255,.78);
      --soft: rgba(255,255,255,.08);
      --accent1:#60a5fa; /* blue */
      --accent2:#a78bfa; /* purple */
      --warnBg: rgba(251, 191, 36, .12);
      --warnText:#fde68a;
    }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(circle at top, var(--bg1), var(--bg2));
      color:#fff;
      min-height:100vh;
      display:flex;
      justify-content:center;
      align-items:flex-start;
      padding:40px 12px;
    }
    .card{
      width:100%;
      max-width:520px;
      background: var(--card);
      border-radius:18px;
      padding:28px;
      box-shadow:0 25px 60px rgba(0,0,0,.55);
      border:1px solid rgba(255,255,255,.06);
    }
    h1{
      margin:0 0 6px 0;
      text-align:center;
      font-size:24px;
      letter-spacing:.2px;
    }
    .subtitle{
      text-align:center;
      font-size:14px;
      color: var(--muted);
      margin:0 0 18px 0;
    }
    .langbar{
      display:flex;
      justify-content:center;
      gap:10px;
      margin: 0 0 16px 0;
      flex-wrap:wrap;
    }
    .langbtn{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color:#fff;
      padding:8px 10px;
      border-radius:999px;
      cursor:pointer;
      font-size:13px;
    }
    .langbtn.active{
      background: linear-gradient(135deg, rgba(96,165,250,.25), rgba(167,139,250,.25));
      border-color: rgba(167,139,250,.45);
    }

    .info{
      background: rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.07);
      border-radius:14px;
      padding:14px;
      font-size:13px;
      line-height:1.6;
      margin-bottom:16px;
      color: var(--muted);
    }
    .pill{
      display:inline-block;
      padding:4px 10px;
      border-radius:999px;
      font-size:12px;
      margin-top:8px;
      background: rgba(96,165,250,.15);
      border:1px solid rgba(96,165,250,.25);
      color:#dbeafe;
    }

    label{
      display:block;
      font-size:13px;
      margin: 10px 0 6px 0;
      color: rgba(255,255,255,.9);
    }
    input, select, textarea{
      width:100%;
      padding:12px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      color:#fff;
      outline:none;
      font-size:14px;
      box-sizing:border-box;
    }
    input::placeholder, textarea::placeholder{
      color: rgba(255,255,255,.55);
    }
    select option{
      background:#0b1220;
      color:#fff;
    }
    textarea{ min-height:80px; resize:vertical; }

    .row{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    @media (max-width:520px){
      .row{ grid-template-columns:1fr; }
    }

    .warn{
      margin-top:14px;
      background: var(--warnBg);
      border: 1px solid rgba(251,191,36,.35);
      color: var(--warnText);
      border-radius:14px;
      padding:12px;
      font-weight:650;
      text-align:center;
      line-height:1.5;
    }
    .btn{
      margin-top:14px;
      width:100%;
      padding:14px;
      border:none;
      border-radius:14px;
      cursor:pointer;
      color:#fff;
      font-size:15px;
      background: linear-gradient(135deg, var(--accent1), var(--accent2));
    }
    .btn:disabled{ opacity:.55; cursor:not-allowed; }

    .success{
      display:none;
      text-align:center;
    }
    .success h2{
      margin:0 0 10px 0;
      color:#c4b5fd;
    }
    .small{
      margin-top:10px;
      font-size:12px;
      color: rgba(255,255,255,.7);
      text-align:center;
    }
  </style>
</head>

<body>
  <div class="card" id="formCard">
    <h1 id="t_title">Online Art Workshop</h1>
    <p class="subtitle" id="t_subtitle">KayÄ±t Formu (Ãœcretli) â€¢ Zoom linki WhatsAppâ€™tan gÃ¶nderilir</p>

    <div class="langbar" aria-label="Language">
      <button class="langbtn active" type="button" data-lang="tr">ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e</button>
      <button class="langbtn" type="button" data-lang="en">ğŸ‡¬ğŸ‡§ English</button>
      <button class="langbtn" type="button" data-lang="fa">ğŸ‡®ğŸ‡· ÙØ§Ø±Ø³ÛŒ</button>
    </div>

    <div class="info" id="t_info">
      Bu form Online Art Workshop kaydÄ± iÃ§indir. Ã–deme sonrasÄ± Zoom baÄŸlantÄ±sÄ± WhatsApp Ã¼zerinden paylaÅŸÄ±lÄ±r.
      <div class="pill" id="t_pill">Dil seÃ§ilebilir â€¢ TR/EN/FA</div>
    </div>

    <form id="registerForm">
      <label id="t_name_label">Ad Soyad</label>
      <input id="name" type="text" required placeholder="Ad Soyad" />

      <div class="row">
        <div>
          <label id="t_email_label">E-posta</label>
          <input id="email" type="email" required placeholder="ornek@mail.com" />
        </div>
        <div>
          <label id="t_phone_label">Telefon (WhatsApp)</label>
          <input id="phone" type="tel" required placeholder="+90..." />
        </div>
      </div>

      <div class="row">
        <div>
          <label id="t_date_label">Tarih</label>
          <input id="date" type="date" required />
        </div>
        <div>
          <label id="t_time_label">Seans Saati</label>
          <select id="timeSlot" required>
            <option value="" id="t_time_placeholder">Saat seÃ§iniz</option>
            <option value="09:30 â€“ 11:00">09.30 â€“ 11.00</option>
            <option value="11:20 â€“ 12:50">11.20 â€“ 12.50</option>
            <option value="14:10 â€“ 15:40">14.10 â€“ 15.40</option>
            <option value="16:00 â€“ 17:30">16.00 â€“ 17.30</option>
            <option value="17:50 â€“ 19:20">17.50 â€“ 19.20</option>
          </select>
        </div>
      </div>

      <label id="t_price_label">Ãœcret (KullanÄ±cÄ± yazar)</label>
      <input id="price" type="text" required placeholder="Ã–rn: 1200 TL / 40â‚¬" />

      <label id="t_note_label">Not (opsiyonel)</label>
      <textarea id="note" placeholder="Ä°stersen bir not bÄ±rakabilirsin..."></textarea>

      <div class="warn" id="t_warn">
        âš ï¸ Ã–deme dekontunu WhatsApp Ã¼zerinden gÃ¶nderiniz. <br>
        Zoom linki Ã¶deme kontrolÃ¼nden sonra paylaÅŸÄ±lÄ±r.
      </div>

      <button class="btn" type="submit" id="submitBtn">KaydÄ± GÃ¶nder</button>
      <div class="small" id="t_small">
        KayÄ±t gÃ¶nderirken sorun yaÅŸarsan sayfayÄ± yenileyip tekrar dene.
      </div>
    </form>
  </div>

  <div class="card success" id="successCard">
    <h2 id="t_success_title">âœ¨ KayÄ±t AlÄ±ndÄ±</h2>
    <p id="t_success_text" style="color:rgba(255,255,255,.85); line-height:1.6;">
      TeÅŸekkÃ¼rler! Ã–deme dekontunu WhatsAppâ€™tan gÃ¶nderdiÄŸinde, Zoom linki paylaÅŸÄ±lacaktÄ±r.
    </p>
  </div>

<script>
  // âœ… EÄŸer Google Apps Script kullanacaksan buraya Web App URL'ni yapÄ±ÅŸtÄ±r:
  // Ã–rnek: "https://script.google.com/macros/s/AKfycb.../exec"
  const API_URL = ""; // <<<<< BURAYA YAPIÅTIR

  const WORKSHOP_TYPE = "live"; // admin panelde ayÄ±rmak iÃ§in
  let currentLang = "tr";

  const dict = {
    tr: {
      dir: "ltr",
      title: "Online Art Workshop",
      subtitle: "KayÄ±t Formu (Ãœcretli) â€¢ Zoom linki WhatsAppâ€™tan gÃ¶nderilir",
      info: "Bu form Online Art Workshop kaydÄ± iÃ§indir. Ã–deme sonrasÄ± Zoom baÄŸlantÄ±sÄ± WhatsApp Ã¼zerinden paylaÅŸÄ±lÄ±r.",
      pill: "Dil seÃ§ilebilir â€¢ TR/EN/FA",
      nameLabel: "Ad Soyad",
      emailLabel: "E-posta",
      phoneLabel: "Telefon (WhatsApp)",
      dateLabel: "Tarih",
      timeLabel: "Seans Saati",
      timePlaceholder: "Saat seÃ§iniz",
      priceLabel: "Ãœcret (KullanÄ±cÄ± yazar)",
      noteLabel: "Not (opsiyonel)",
      warn: "âš ï¸ Ã–deme dekontunu WhatsApp Ã¼zerinden gÃ¶nderiniz.<br>Zoom linki Ã¶deme kontrolÃ¼nden sonra paylaÅŸÄ±lÄ±r.",
      submit: "KaydÄ± GÃ¶nder",
      small: "KayÄ±t gÃ¶nderirken sorun yaÅŸarsan sayfayÄ± yenileyip tekrar dene.",
      successTitle: "âœ¨ KayÄ±t AlÄ±ndÄ±",
      successText: "TeÅŸekkÃ¼rler! Ã–deme dekontunu WhatsAppâ€™tan gÃ¶nderdiÄŸinde, Zoom linki paylaÅŸÄ±lacaktÄ±r.",
      sending: "GÃ¶nderiliyorâ€¦",
      apiMissing: "API_URL boÅŸ. Sheet'e yazmak iÃ§in Apps Script URL gerekli. (Åimdilik sadece kayÄ±t ekranÄ±na geÃ§iyorum.)"
    },
    en: {
      dir: "ltr",
      title: "Online Art Workshop",
      subtitle: "Registration Form (Paid) â€¢ Zoom link will be sent via WhatsApp",
      info: "This form is for Online Art Workshop registration. After payment verification, the Zoom link will be shared via WhatsApp.",
      pill: "Multi-language â€¢ TR/EN/FA",
      nameLabel: "Full Name",
      emailLabel: "Email",
      phoneLabel: "Phone (WhatsApp)",
      dateLabel: "Date",
      timeLabel: "Session Time",
      timePlaceholder: "Select a time",
      priceLabel: "Fee (participant writes)",
      noteLabel: "Note (optional)",
      warn: "âš ï¸ Please send your payment receipt via WhatsApp.<br>The Zoom link will be shared after payment verification.",
      submit: "Submit Registration",
      small: "If you have issues submitting, refresh the page and try again.",
      successTitle: "âœ¨ Registration Received",
      successText: "Thank you! Once you send your payment receipt via WhatsApp, the Zoom link will be shared.",
      sending: "Sendingâ€¦",
      apiMissing: "API_URL is empty. To save to Google Sheet, paste your Apps Script Web App URL. (For now, I will show success screen.)"
    },
    fa: {
      dir: "rtl",
      title: "Ú©Ø§Ø±Ú¯Ø§Ù‡ Ø¢Ù†Ù„Ø§ÛŒÙ† Ù‡Ù†Ø± (Online Art Workshop)",
      subtitle: "ÙØ±Ù… Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… (Ù¾Ø±Ø¯Ø§Ø®ØªÛŒ) â€¢ Ù„ÛŒÙ†Ú© Ø²ÙˆÙ… Ø§Ø² Ø·Ø±ÛŒÙ‚ ÙˆØ§ØªØ³Ø§Ù¾ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯",
      info: "Ø§ÛŒÙ† ÙØ±Ù… Ø¨Ø±Ø§ÛŒ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø§Ø±Ú¯Ø§Ù‡ Ø¢Ù†Ù„Ø§ÛŒÙ† Ù‡Ù†Ø± Ø§Ø³Øª. Ù¾Ø³ Ø§Ø² ØªØ£ÛŒÛŒØ¯ Ù¾Ø±Ø¯Ø§Ø®ØªØŒ Ù„ÛŒÙ†Ú© Ø²ÙˆÙ… Ø§Ø² Ø·Ø±ÛŒÙ‚ ÙˆØ§ØªØ³Ø§Ù¾ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯.",
      pill: "Ú†Ù†Ø¯ Ø²Ø¨Ø§Ù†Ù‡ â€¢ TR/EN/FA",
      nameLabel: "Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ",
      emailLabel: "Ø§ÛŒÙ…ÛŒÙ„",
      phoneLabel: "Ø´Ù…Ø§Ø±Ù‡ (ÙˆØ§ØªØ³Ø§Ù¾)",
      dateLabel: "ØªØ§Ø±ÛŒØ®",
      timeLabel: "Ø³Ø§Ø¹Øª Ø¬Ù„Ø³Ù‡",
      timePlaceholder: "Ø§Ù†ØªØ®Ø§Ø¨ Ø³Ø§Ø¹Øª",
      priceLabel: "Ù‡Ø²ÛŒÙ†Ù‡ (Ø´Ø±Ú©Øªâ€ŒÚ©Ù†Ù†Ø¯Ù‡ ÙˆØ§Ø±Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯)",
      noteLabel: "ÛŒØ§Ø¯Ø¯Ø§Ø´Øª (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)",
      warn: "âš ï¸ Ù„Ø·ÙØ§Ù‹ Ø±Ø³ÛŒØ¯ Ù¾Ø±Ø¯Ø§Ø®Øª Ø±Ø§ Ø§Ø² Ø·Ø±ÛŒÙ‚ ÙˆØ§ØªØ³Ø§Ù¾ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯.<br>Ù„ÛŒÙ†Ú© Ø²ÙˆÙ… Ù¾Ø³ Ø§Ø² Ø¨Ø±Ø±Ø³ÛŒ Ù¾Ø±Ø¯Ø§Ø®Øª Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯.",
      submit: "Ø§Ø±Ø³Ø§Ù„ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…",
      small: "Ø§Ú¯Ø± Ù…Ø´Ú©Ù„ÛŒ Ø¨ÙˆØ¯ØŒ ØµÙØ­Ù‡ Ø±Ø§ Ø±ÙØ±Ø´ Ú©Ù†ÛŒØ¯ Ùˆ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.",
      successTitle: "âœ¨ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯",
      successText: "Ø³Ù¾Ø§Ø³Ú¯Ø²Ø§Ø±ÛŒÙ…! Ù¾Ø³ Ø§Ø² Ø§Ø±Ø³Ø§Ù„ Ø±Ø³ÛŒØ¯ Ù¾Ø±Ø¯Ø§Ø®Øª Ø¯Ø± ÙˆØ§ØªØ³Ø§Ù¾ØŒ Ù„ÛŒÙ†Ú© Ø²ÙˆÙ… Ø§Ø±Ø³Ø§Ù„ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯.",
      sending: "Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„â€¦",
      apiMissing: "API_URL Ø®Ø§Ù„ÛŒ Ø§Ø³Øª. Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± Google SheetØŒ Ù„ÛŒÙ†Ú© Web App Apps Script Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯. (ÙØ¹Ù„Ø§Ù‹ ØµÙØ­Ù‡ Ù…ÙˆÙÙ‚ÛŒØª Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.)"
    }
  };

  function setLang(lang){
    currentLang = lang;
    const t = dict[lang];

    document.documentElement.setAttribute("lang", lang === "fa" ? "fa" : (lang === "en" ? "en" : "tr"));
    document.documentElement.setAttribute("dir", t.dir);

    // switch alignment a bit for rtl
    document.querySelector(".card").style.textAlign = (t.dir === "rtl") ? "right" : "left";
    document.querySelector("h1").style.textAlign = "center";
    document.querySelector(".subtitle").style.textAlign = "center";

    document.getElementById("t_title").textContent = t.title;
    document.getElementById("t_subtitle").textContent = t.subtitle;
    document.getElementById("t_info").childNodes[0].textContent = t.info + " ";
    document.getElementById("t_pill").textContent = t.pill;

    document.getElementById("t_name_label").textContent = t.nameLabel;
    document.getElementById("t_email_label").textContent = t.emailLabel;
    document.getElementById("t_phone_label").textContent = t.phoneLabel;
    document.getElementById("t_date_label").textContent = t.dateLabel;
    document.getElementById("t_time_label").textContent = t.timeLabel;
    document.getElementById("t_time_placeholder").textContent = t.timePlaceholder;
    document.getElementById("t_price_label").textContent = t.priceLabel;
    document.getElementById("t_note_label").textContent = t.noteLabel;

    document.getElementById("t_warn").innerHTML = t.warn;
    document.getElementById("submitBtn").textContent = t.submit;
    document.getElementById("t_small").textContent = t.small;

    document.getElementById("t_success_title").textContent = t.successTitle;
    document.getElementById("t_success_text").textContent = t.successText;

    document.querySelectorAll(".langbtn").forEach(b=>{
      b.classList.toggle("active", b.dataset.lang === lang);
    });
  }

  document.querySelectorAll(".langbtn").forEach(btn=>{
    btn.addEventListener("click", ()=> setLang(btn.dataset.lang));
  });

  // default TR
  setLang("tr");

  async function submitToSheet(payload){
    // API yoksa "Ã§alÄ±ÅŸsÄ±n" diye success gÃ¶sterelim (sen API_URL ekleyince Sheet'e yazacak)
    const t = dict[currentLang];
    if(!API_URL || !API_URL.trim()){
      alert(t.apiMissing);
      return { ok:true, mock:true };
    }

    const res = await fetch(API_URL, {
      method:"POST",
      headers: { "Content-Type":"application/json" },
      body: JSON.stringify(payload)
    });

    // Apps Script JSON dÃ¶nmeli
    const data = await res.json().catch(()=>null);
    if(!data || data.ok !== true){
      throw new Error(data?.error || "KayÄ±t oluÅŸturulamadÄ±");
    }
    return data;
  }

  document.getElementById("registerForm").addEventListener("submit", async (e)=>{
    e.preventDefault();
    const t = dict[currentLang];
    const btn = document.getElementById("submitBtn");

    btn.disabled = true;
    btn.textContent = t.sending;

    try{
      const payload = {
        action: "create",
        workshopType: WORKSHOP_TYPE, // "live"
        workshopName: "Online Art Workshop",
        language: currentLang,
        name: document.getElementById("name").value.trim(),
        email: document.getElementById("email").value.trim(),
        phone: document.getElementById("phone").value.trim(),
        date: document.getElementById("date").value,
        timeSlot: document.getElementById("timeSlot").value,
        priceText: document.getElementById("price").value.trim(),
        note: document.getElementById("note").value.trim()
      };

      await submitToSheet(payload);

      document.getElementById("formCard").style.display="none";
      document.getElementById("successCard").style.display="block";
    }catch(err){
      alert("Hata: " + (err?.message || err));
      btn.disabled = false;
      btn.textContent = t.submit;
    }
  });
</script>
</body>
</html>
