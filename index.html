<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Online Art Workshop | Kayıt</title>

<style>
:root{
  --bg1:#0b1220;
  --bg2:#05060a;
  --card:#0f172a;
  --accent1:#60a5fa;
  --accent2:#a78bfa;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui, sans-serif;
  background:radial-gradient(circle at top,var(--bg1),var(--bg2));
  color:#fff;
  min-height:100vh;
  display:flex;
  justify-content:center;
  padding:40px 12px;
}
.card{
  width:100%;
  max-width:520px;
  background:var(--card);
  border-radius:18px;
  padding:26px;
}
h1{text-align:center;margin:0}
.subtitle{text-align:center;opacity:.8;margin-bottom:16px}

.langbar{
  display:flex;
  justify-content:center;
  gap:8px;
  margin-bottom:14px;
}
.langbtn{
  border:1px solid rgba(255,255,255,.2);
  background:transparent;
  color:#fff;
  padding:6px 10px;
  border-radius:999px;
  cursor:pointer;
}
.langbtn.active{
  background:linear-gradient(135deg,var(--accent1),var(--accent2));
}

label{display:block;margin:12px 0 6px}
input,select,textarea{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.15);
  background:rgba(255,255,255,.06);
  color:#fff;
}
textarea{min-height:80px}

.row{
  display:flex;
  gap:10px;
}
.row>div{flex:1}

.warn{
  margin-top:14px;
  padding:12px;
  border-radius:12px;
  background:rgba(251,191,36,.15);
  color:#fde68a;
  text-align:center;
  font-weight:600;
}
button{
  margin-top:16px;
  width:100%;
  padding:14px;
  border:none;
  border-radius:14px;
  font-size:15px;
  color:#fff;
  cursor:pointer;
  background:linear-gradient(135deg,var(--accent1),var(--accent2));
}
button:disabled{opacity:.6}

.success{display:none;text-align:center}
.success h2{color:#c4b5fd}
</style>
</head>

<body>

<div class="card" id="formCard">
<h1 id="t_title">Online Art Workshop</h1>
<p class="subtitle" id="t_sub">Kayıt Formu (Ücretli)</p>

<div class="langbar">
  <button class="langbtn active" data-lang="tr">TR</button>
  <button class="langbtn" data-lang="en">EN</button>
  <button class="langbtn" data-lang="fa">FA</button>
</div>

<form id="registerForm">
<label id="l_name">Ad Soyad</label>
<input id="name" required>

<div class="row">
<div>
<label id="l_email">E-posta</label>
<input id="email" type="email" required>
</div>
<div>
<label id="l_phone">Telefon (WhatsApp)</label>
<input id="phone" required>
</div>
</div>

<div class="row">
<div>
<label id="l_date">Tarih</label>
<input id="date" type="date" required>
</div>
<div>
<label id="l_time">Seans Saati</label>
<select id="timeSlot" required>
<option value="">Saat seç</option>
<option>09.30 – 11.00</option>
<option>11.20 – 12.50</option>
<option>14.10 – 15.40</option>
<option>16.00 – 17.30</option>
<option>17.50 – 19.20</option>
</select>
</div>
</div>

<label id="l_price">Ücret</label>
<input id="price" required>

<label id="l_note">Not</label>
<textarea id="note"></textarea>

<div class="warn" id="t_warn">
⚠️ Ödeme dekontunu WhatsApp üzerinden gönderiniz.<br>
Zoom linki ödeme sonrası paylaşılır.
</div>

<button id="submitBtn">Kaydı Gönder</button>
</form>
</div>

<div class="card success" id="successCard">
<h2 id="t_success">✨ Kayıt Alındı</h2>
<p id="t_success_text">Teşekkürler! Ödeme sonrası Zoom linki gönderilecektir.</p>
</div>

<script>
const API_URL="https://script.google.com/macros/s/AKfycbwD4chBKNlbOIoymVZtPEYCx-YRhwA2hssBPZck-7695kRMN22xAtgSrW94Ck9HsdEJ0Q/exec";

const dict={
tr:{
title:"Online Art Workshop",
sub:"Kayıt Formu (Ücretli)",
name:"Ad Soyad",email:"E-posta",phone:"Telefon (WhatsApp)",
date:"Tarih",time:"Seans Saati",price:"Ücret",note:"Not",
warn:"⚠️ Ödeme dekontunu WhatsApp üzerinden gönderiniz.<br>Zoom linki ödeme sonrası paylaşılır.",
btn:"Kaydı Gönder",success:"✨ Kayıt Alındı",
successText:"Teşekkürler! Ödeme sonrası Zoom linki gönderilecektir."
},
en:{
title:"Online Art Workshop",
sub:"Paid Registration Form",
name:"Full Name",email:"Email",phone:"Phone (WhatsApp)",
date:"Date",time:"Session Time",price:"Fee",note:"Note",
warn:"⚠️ Please send payment receipt via WhatsApp.<br>Zoom link will be sent after payment.",
btn:"Submit Registration",success:"✨ Registration Received",
successText:"Thank you! Zoom link will be sent after payment."
},
fa:{
title:"کارگاه آنلاین هنر",
sub:"فرم ثبت‌نام (پرداختی)",
name:"نام و نام خانوادگی",email:"ایمیل",phone:"شماره واتساپ",
date:"تاریخ",time:"ساعت جلسه",price:"هزینه",note:"یادداشت",
warn:"⚠️ لطفاً رسید پرداخت را در واتساپ ارسال کنید.<br>لینک زوم پس از پرداخت ارسال می‌شود.",
btn:"ارسال ثبت‌نام",success:"✨ ثبت‌نام انجام شد",
successText:"پس از پرداخت، لینک زوم ارسال می‌شود."
}
};

function setLang(l){
const t=dict[l];
document.documentElement.dir=l==="fa"?"rtl":"ltr";
t_title.textContent=t.title;
t_sub.textContent=t.sub;
l_name.textContent=t.name;
l_email.textContent=t.email;
l_phone.textContent=t.phone;
l_date.textContent=t.date;
l_time.textContent=t.time;
l_price.textContent=t.price;
l_note.textContent=t.note;
t_warn.innerHTML=t.warn;
submitBtn.textContent=t.btn;
t_success.textContent=t.success;
t_success_text.textContent=t.successText;
document.querySelectorAll(".langbtn").forEach(b=>b.classList.toggle("active",b.dataset.lang===l));
}

document.querySelectorAll(".langbtn").forEach(b=>{
b.onclick=()=>setLang(b.dataset.lang);
});

setLang("tr");

registerForm.onsubmit=async e=>{
e.preventDefault();
submitBtn.disabled=true;
submitBtn.textContent="Gönderiliyor…";
try{
const payload={name:name.value,email:email.value,phone:phone.value,date:date.value,timeSlot:timeSlot.value,price:price.value,note:note.value};
const r=await fetch(API_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(payload)});
const d=await r.json();
if(!d.ok)throw d;
formCard.style.display="none";
successCard.style.display="block";
}catch{
alert("Bir hata oluştu");
submitBtn.disabled=false;
submitBtn.textContent=dict.tr.btn;
}
};
</script>

</body>
</html>
